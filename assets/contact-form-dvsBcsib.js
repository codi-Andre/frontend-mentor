import{a as m,k as e}from"./index-Ck-c2GjG.js";const j="_hidden_miqlb_17",N="_container_miqlb_34",_="_form_miqlb_60",g="_error_miqlb_99",v="_input_miqlb_106",E="_fieldset_miqlb_126",C="_textarea_miqlb_176",k="_checkbox_miqlb_196",T="_button_miqlb_229",S="_toast_miqlb_257",s={hidden:j,"sr-only":"_sr-only_miqlb_21",container:N,form:_,error:g,input:v,fieldset:E,textarea:C,checkbox:k,button:T,toast:S},f={firstName:"",lastName:"",email:"",query:0,message:"",consent:!1},I=function(){const[c,u]=m.useState(!1),[l,o]=m.useState(f),[r,i]=m.useState({firstName:!1,lastName:!1,emptyEmail:!1,invalidEmail:!1,query:!1,message:!1,consent:!1}),p=({firstName:a,lastName:n,email:h,query:x,message:b,consent:y})=>{let d=!0;const q=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;a.trim().length<1&&(d=!1,i(t=>({...t,firstName:!0}))),n.trim().length<1&&(d=!1,i(t=>({...t,lastName:!0}))),q.test(h)||(d=!1,i(t=>({...t,invalidEmail:!0})),h.trim().length<1&&i(t=>({...t,emptyEmail:!0,invalidEmail:!1}))),x===0&&(d=!1,i(t=>({...t,query:!0}))),b.trim().length<1&&(d=!1,i(t=>({...t,message:!0}))),y||(d=!1,i(t=>({...t,consent:!0}))),d&&(o(f),u(!0))};return m.useEffect(()=>{let a;return c&&(a=setTimeout(()=>u(!1),1e3*10)),()=>clearTimeout(a)},[c]),e.jsxs("main",{className:s.container,children:[e.jsxs("form",{className:s.form,children:[e.jsx("h2",{children:"Contact Us"}),e.jsxs("label",{className:s.input,children:["First Name ",e.jsx("span",{"aria-hidden":!0,children:"*"}),e.jsx("input",{type:"text",autoComplete:"name",name:"first-name",value:l.firstName,onChange:a=>o(n=>({...n,firstName:a.target.value})),onBlur:()=>i(a=>({...a,firstName:!1})),required:!0,"aria-invalid":r.firstName,"aria-describedby":"first-name-error"}),e.jsx("p",{id:"first-name-error",className:r.firstName?s.error:s.hidden,children:"This field is required"})]}),e.jsxs("label",{className:s.input,children:["Last Name ",e.jsx("span",{"aria-hidden":!0,children:"*"}),e.jsx("input",{type:"text",autoComplete:"name",name:"last-name",value:l.lastName,onChange:a=>o(n=>({...n,lastName:a.target.value})),onBlur:()=>i(a=>({...a,lastName:!1})),required:!0,"aria-invalid":r.lastName,"aria-describedby":"last-name-error"}),e.jsx("p",{id:"last-name-error",className:r.lastName?s.error:s.hidden,children:"This field is required"})]}),e.jsxs("label",{className:s.input,children:["Email Address ",e.jsx("span",{"aria-hidden":!0,children:"*"}),e.jsx("input",{type:"email",autoComplete:"email",name:"email",value:l.email,onChange:a=>o(n=>({...n,email:a.target.value})),onBlur:()=>i(a=>({...a,emptyEmail:!1,invalidEmail:!1})),required:!0,"aria-invalid":r.invalidEmail||r.emptyEmail,"aria-describedby":"email-error"}),e.jsxs("p",{className:r.invalidEmail||r.emptyEmail?s.error:s.hidden,id:"email-error",children:[e.jsx("span",{className:r.invalidEmail?"":s.hidden,children:"Please enter a valid email address"}),e.jsx("span",{className:r.emptyEmail?"":s.hidden,children:"This field is required"})]})]}),e.jsxs("fieldset",{className:s.fieldset,children:[e.jsxs("legend",{children:["Query Type ",e.jsx("span",{"aria-hidden":!0,children:"*"})]}),e.jsxs("label",{children:[e.jsx("input",{className:s["sr-only"],type:"radio",name:"query",checked:l.query===1,onChange:()=>o(a=>({...a,query:1})),onBlur:()=>i(a=>({...a,query:!1})),required:!0,"aria-invalid":r.query,"aria-describedby":"query-error"}),"General Enquiry"]}),e.jsxs("label",{children:[e.jsx("input",{className:s["sr-only"],type:"radio",name:"query",checked:l.query===2,onChange:()=>o(a=>({...a,query:2})),onBlur:()=>i(a=>({...a,query:!1})),required:!0,"aria-invalid":r.query,"aria-describedby":"query-error"}),"Support Request"]}),e.jsx("p",{id:"query-error",className:r.query?s.error:s.hidden,children:"Please select a query type"})]}),e.jsxs("label",{className:s.textarea,children:["Message ",e.jsx("span",{"aria-hidden":!0,children:"*"}),e.jsx("textarea",{rows:3,name:"message",value:l.message,onChange:a=>o(n=>({...n,message:a.target.value})),onBlur:()=>i(a=>({...a,message:!1})),required:!0,"aria-invalid":r.message,"aria-describedby":"message-error"}),e.jsx("p",{id:"message-error",className:r.message?s.error:s.hidden,children:"This field is required"})]}),e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{className:s["sr-only"],type:"checkbox",name:"consent",checked:l.consent,onChange:a=>o(n=>({...n,consent:a.target.checked})),onBlur:()=>i(a=>({...a,consent:!1})),required:!0,"aria-invalid":r.consent,"aria-describedby":"consent-error"}),e.jsx("p",{children:e.jsxs("span",{children:["I consent to being contacted by the team"," ",e.jsx("span",{"aria-hidden":!0,children:"*"})]})}),e.jsx("p",{id:"consent-error",className:r.consent?s.error:s.hidden,children:"To submit this form, please consent to being contacted"})]}),e.jsx("button",{className:s.button,type:"button",onClick:()=>p(l),children:"Submit"})]}),e.jsxs("article",{role:"alert","aria-live":"assertive",className:c?s.toast:s.hidden,children:[e.jsx("h3",{children:"Message Sent!"}),e.jsx("p",{children:"Thanks for completing the form. We'll be in touch soon!"})]})]})};export{I as component};
